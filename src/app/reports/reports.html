<app-side-bar></app-side-bar>
<!-- Loading State -->
<div *ngIf="isLoading" class="loading-overlay">
  <div class="spinner"></div>
  <p>ุฌุงุฑู ุงูุชุญููู...</p>
</div>

<!-- Success/Error Messages -->
<div *ngIf="successMessage" class="success-banner">
  โ {{ successMessage }}
</div>

<div *ngIf="errorMessage" class="error-banner">
  โ {{ errorMessage }}
</div>

<!-- Create Report Modal -->
<div *ngIf="showCreateModal" class="modal-overlay" (click)="cancelReportGeneration()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2>ุฅูุดุงุก ุชูุฑูุฑ ุฌุฏูุฏ</h2>
    
    <div class="form-group">
      <label>ููุน ุงูุชูุฑูุฑ</label>
      <select [(ngModel)]="reportOptions.type" class="form-control">
        <option value="financial">ุชูุฑูุฑ ูุงูู</option>
        <option value="marketing">ุชูุฑูุฑ ุชุณูููู</option>
        <option value="tasks">ุชูุฑูุฑ ุงูููุงู</option>
        <option value="team">ุชูุฑูุฑ ุงููุฑูู</option>
        <option value="comprehensive">ุชูุฑูุฑ ุดุงูู</option>
      </select>
    </div>
    
    <div class="form-group">
      <label>ูู ุชุงุฑูุฎ</label>
      <input type="date" 
             [(ngModel)]="reportOptions.startDate" 
             class="form-control">
    </div>
    
    <div class="form-group">
      <label>ุฅูู ุชุงุฑูุฎ</label>
      <input type="date" 
             [(ngModel)]="reportOptions.endDate" 
             class="form-control">
    </div>
    
    <div class="form-group">
      <label>ุตูุบุฉ ุงูุชูุฑูุฑ</label>
      <select [(ngModel)]="reportOptions.format" class="form-control">
        <option value="pdf">PDF</option>
        <option value="excel">Excel</option>
      </select>
    </div>
    
    <div class="modal-actions">
      <button (click)="cancelReportGeneration()" 
              class="btn-cancel"
              [disabled]="isGenerating">
        ุฅูุบุงุก
      </button>
      <button (click)="generateReport()" 
              class="btn-primary"
              [disabled]="isGenerating">
        <span *ngIf="!isGenerating">ุฅูุดุงุก ุงูุชูุฑูุฑ</span>
        <span *ngIf="isGenerating">ุฌุงุฑู ุงูุฅูุดุงุก...</span>
      </button>
    </div>
  </div>
</div>

<!-- Custom Report Modal -->
<div *ngIf="showCustomModal" class="modal-overlay" (click)="cancelReportGeneration()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2>ุฅูุดุงุก ุชูุฑูุฑ ูุฎุตุต</h2>
    
    <div class="form-group">
      <label>ุงุฎุชุฑ ุงูุฃูุณุงู ุงููุทููุจุฉ</label>
      <div class="checkbox-list">
        <label *ngFor="let section of customSections" class="checkbox-item">
          <input type="checkbox" 
                 [checked]="section.selected"
                 (change)="toggleCustomSection(section)">
          <span>{{ section.label }}</span>
        </label>
      </div>
    </div>
    
    <div class="form-group">
      <label>ูู ุชุงุฑูุฎ</label>
      <input type="date" 
             [(ngModel)]="reportOptions.startDate" 
             class="form-control">
    </div>
    
    <div class="form-group">
      <label>ุฅูู ุชุงุฑูุฎ</label>
      <input type="date" 
             [(ngModel)]="reportOptions.endDate" 
             class="form-control">
    </div>
    
    <div class="form-group">
      <label>ุตูุบุฉ ุงูุชูุฑูุฑ</label>
      <select [(ngModel)]="reportOptions.format" class="form-control">
        <option value="pdf">PDF</option>
        <option value="excel">Excel</option>
      </select>
    </div>
    
    <div class="modal-actions">
      <button (click)="cancelReportGeneration()" 
              class="btn-cancel"
              [disabled]="isGenerating">
        ุฅูุบุงุก
      </button>
      <button (click)="generateReport()" 
              class="btn-primary"
              [disabled]="isGenerating">
        <span *ngIf="!isGenerating">ุฅูุดุงุก ุงูุชูุฑูุฑ</span>
        <span *ngIf="isGenerating">ุฌุงุฑู ุงูุฅูุดุงุก...</span>
      </button>
    </div>
  </div>
</div>

<!-- Report Actions -->
<div *ngFor="let report of savedReportsList" class="report-item">
  <div class="report-info">
    <h4>{{ report.title }}</h4>
    <span class="report-date">{{ report.date }}</span>
  </div>
  
  <div class="report-actions">
    <button (click)="viewReport(report)" class="btn-icon" title="ุนุฑุถ">
      ๐๏ธ
    </button>
    <button (click)="downloadReport(report)" class="btn-icon" title="ุชุญููู">
      โฌ๏ธ
    </button>
    <button (click)="shareReport(report)" class="btn-icon" title="ูุดุงุฑูุฉ">
      ๐ค
    </button>
    <button (click)="deleteReport(report)" class="btn-icon btn-danger" title="ุญุฐู">
      ๐๏ธ
    </button>
  </div>
</div>