<!-- ================= MAIN CONTAINER ================= -->
<div class="forget-password-container">

  <!-- ================= CENTER FORM ================= -->
  <div class="form-wrapper">
    
    <div class="form-container">

      <!-- Welcome Header -->
      <div class="form-header" data-aos="fade-up" data-aos-delay="200">
        <h2 class="form-title">
          <span class="title-gradient">استعادة كلمة المرور</span>
        </h2>
        <p class="form-subtitle">لا تقلق! سنساعدك على استعادة حسابك</p>
      </div>

      <!-- Success Message -->
      <div class="success-message" *ngIf="resetSuccess" data-aos="zoom-in">
        <div class="success-icon">✓</div>
        <p>تم إرسال رابط الاستعادة بنجاح! تحقق من بريدك</p>
      </div>

      <!-- Error Message -->
      <div class="error-message" *ngIf="resetError" data-aos="shake">
        <div class="error-icon">⚠</div>
        <p>{{ errorMessage }}</p>
      </div>

      <!-- Info Box -->
      <div class="info-box" *ngIf="!resetSuccess" data-aos="fade-up" data-aos-delay="300">
        <span class="info-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-lightbulb" viewBox="0 0 16 16">
  <path d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a2 2 0 0 0-.453-.618A5.98 5.98 0 0 1 2 6m6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1"/>
</svg>
</span>
        <p class="info-text">
          سنرسل لك رابطاً آمناً عبر البريد الإلكتروني لإعادة تعيين كلمة المرور. الرابط صالح لمدة 24 ساعة فقط.
        </p>
      </div>

      <!-- Forget Password Form -->
      <form class="forget-password-form" (ngSubmit)="onSubmit()" *ngIf="!resetSuccess">
        
        <!-- Email Field -->
        <div class="form-group" 
             data-aos="fade-up" 
             data-aos-delay="400"
             [class.has-error]="emailTouched && emailError"
             [class.has-value]="email">
          <label class="form-label">
            <i class="fas fa-envelope"></i>
            البريد الإلكتروني
          </label>
          <div class="input-wrapper">
            <input 
              type="email" 
              class="form-input"
              [(ngModel)]="email"
              name="email"
              (blur)="validateEmail()"
              (input)="emailTouched && validateEmail()"
              placeholder="example@domain.com"
              [disabled]="isLoading">
            <div class="input-border"></div>
            <div class="input-glow"></div>
          </div>
          <span class="error-text" *ngIf="emailTouched && emailError">
            <i class="fas fa-exclamation-circle"></i>
            {{ emailError }}
          </span>
        </div>

        <!-- Submit Button -->
        <button 
          type="submit" 
          class="submit-btn"
          data-aos="zoom-in" 
          data-aos-delay="500"
          [disabled]="isLoading">
          <span class="btn-content" *ngIf="!isLoading">
            <span class="btn-text">إرسال رابط الاستعادة</span>
            <i class="fas fa-paper-plane btn-icon"></i>
          </span>
          <span class="btn-loader" *ngIf="isLoading">
            <div class="spinner"></div>
            <span>جاري الإرسال...</span>
          </span>
          <div class="btn-shine"></div>
        </button>

        <!-- Back to Login -->
        <div class="back-to-login" data-aos="fade-up" data-aos-delay="600">
          <p>
            تذكرت كلمة المرور؟ 
            <a routerLink="/login" class="link-highlight">
              سجل الدخول
              <i class="fas fa-arrow-left"></i>
            </a>
          </p>
        </div>
      </form>

      <!-- Success State - Back to Login -->
      <div class="back-to-login" *ngIf="resetSuccess" data-aos="fade-up">
        <a routerLink="/login" class="link-highlight" style="font-size: 18px; font-weight: 700;">
          <i class="fas fa-arrow-right"></i>
          العودة لتسجيل الدخول
        </a>
      </div>

    </div>
  </div>

</div>