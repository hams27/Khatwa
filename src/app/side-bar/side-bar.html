<aside class="sidebar" [class.collapsed]="isCollapsed">

  <!-- ================= Toggle Button ================= -->
  <button class="toggle-btn" (click)="toggleSidebar()" [attr.aria-label]="isCollapsed ? 'فتح القائمة' : 'إغلاق القائمة'">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <line *ngIf="!isCollapsed" x1="3" y1="12" x2="21" y2="12"></line>
      <line *ngIf="!isCollapsed" x1="3" y1="6" x2="21" y2="6"></line>
      <line *ngIf="!isCollapsed" x1="3" y1="18" x2="21" y2="18"></line>
      <polyline *ngIf="isCollapsed" points="15 18 9 12 15 6"></polyline>
    </svg>
  </button>

  <!-- ================= Logo Section ================= -->
  <div class="sidebar-header">
    <div class="logo">
     <img src="logo.svg" alt="Logo">
     <span class="logo-text" *ngIf="!isCollapsed">خطوة</span>
    </div>
  </div>

  <!-- ================= Scrollable Main Content ================= -->
  <div class="sidebar-content">

    <!-- Dashboard Button -->
    <button class="dashboard-btn" [routerLink]="'/dashboard'" [title]="isCollapsed ? 'لوحة التحكم' : ''">
      <img src="squares.png" alt="لوحة التحكم" width="20" height="20">
      <span *ngIf="!isCollapsed">لوحة التحكم</span>
    </button>

    <!-- Navigation Menu -->
    <nav class="sidebar-nav">

      <!-- Dynamic Menu Items -->
      <a
        *ngFor="let item of menuItems"
        [routerLink]="item.route"
        routerLinkActive="active"
        class="nav-item"
        [title]="isCollapsed ? item.label : ''"
      >

        <!-- Menu Icon -->
        <img
          *ngIf="item.icon"
          [src]="item.icon"
          [alt]="item.label"
          class="nav-icon"
        />

        <!-- Menu Label -->
        <span class="nav-label" *ngIf="!isCollapsed">{{ item.label }}</span>
      </a>

    </nav>

  </div>

  <!-- ================= User Profile Section ================= -->
  <div class="user-section" [title]="isCollapsed ? userInfo.name : ''">

    <!-- User Info -->
    <div class="user-details" *ngIf="!isCollapsed">
      <div class="user-name">{{ userInfo.name }}</div>
      <div class="user-role">{{ userInfo.role }}</div>
    </div>

    <!-- User Avatar -->
    <div class="user-avatar">{{ userInfo.avatar }}</div>

    <button (click)="logout()" class="logout-btn" [class.icon-only]="isCollapsed" [title]="isCollapsed ? 'تسجيل الخروج' : ''">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
        <polyline points="16 17 21 12 16 7"></polyline>
        <line x1="21" y1="12" x2="9" y2="12"></line>
      </svg>
      <span *ngIf="!isCollapsed">تسجيل الخروج</span>
    </button>
  </div>

</aside>