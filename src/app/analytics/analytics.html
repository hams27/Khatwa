<!-- Sidebar -->
<app-side-bar></app-side-bar>

<!-- Main Analytics Section -->
<section class="analytics">

  <!-- Navbar with User Guide -->
  <nav class="navbar">
    <button class="guide-btn" (click)="openGuide()">ุฏููู ุงูุงุณุชุฎุฏุงู</button>
  </nav>

  <!-- User Guide Popup -->
  <div class="guide-overlay" *ngIf="showGuide">
    <div class="guide-modal">
      <div class="guide-header">
        <h3>ุฏููู ุงุณุชุฎุฏุงู ุงูุชุญูููุงุช ูุงูุชููุนุงุช</h3>
        <button class="close-btn" (click)="closeGuide()">โ</button>
      </div>
      <div class="guide-content">
        <p>
          ูุฐู ุงูุตูุญุฉ ุชุนุฑุถ ุงูุชุญูููุงุช ุงูุฐููุฉ ูููุดุฑูุนุ ุชุณุงุนุฏู ุนูู ุงุชุฎุงุฐ ูุฑุงุฑุงุช ุฃูุถู.
        </p>
        <ul>
          <li>๐ ูุชุงุจุนุฉ ุฃุฏุงุก ุงููุดุฑูุน ุจุดูู ุชูุตููู</li>
          <li>๐ก ุฑุคู ูุชููุนุงุช ุฐููุฉ ูุฏุนููุฉ ุจุงูุจูุงูุงุช</li>
          <li>๐ ููุงุฑูุฉ ุฃุฏุงุก ุงููููุงุช ุงูุชุณููููุฉ</li>
          <li>โก ุงุฎุชุตุงุฑ ุงูููุช ูู ุงุชุฎุงุฐ ุงููุฑุงุฑุงุช ุจูุงุก ุนูู ุงูุจูุงูุงุช</li>
        </ul>
      </div>
      <div class="guide-footer">
        <button class="add-btn" (click)="closeGuide()">ูููุช</button>
      </div>
    </div>
  </div>

  <!-- Page Header -->
  <header>
    <h2>ุงูุชุญูููุงุช ูุงูุชููุนุงุช</h2>
    <p>ุฑุคู ุฐููุฉ ููุณุงุนุฏุชู ุนูู ุงุชุฎุงุฐ ูุฑุงุฑุงุช ุฃูุถู</p>
  </header>

  <!-- Stats Cards -->
  <div class="stats-cards">
    <div class="card" *ngFor="let card of statsCards" [ngClass]="card.color">
      <span class="badge">{{ card.change }}</span>
      <div class="icon">{{ card.icon }}</div>
      <div class="details">
        <span class="title">{{ card.title }}</span>
        <span class="value">{{ card.value }}</span>
      </div>
    </div>
  </div>

  <!-- Main Chart -->
  <div class="chart-box">
    <h3>ุฃุฏุงุก ุงููุดุฑูุน</h3>
    <p>ุงูุฒูุงุฑ ูุงููุจูุนุงุช ุฎูุงู ุงูุฃุดูุฑ ุงููุงุถูุฉ</p>
    <div class="chart-placeholder">LINE CHART</div>
  </div>

  <!-- Insights Section -->
  <div class="insights">
    <h3>
      <img src="stars.svg" alt="" width="30px">
      ุชููุนุงุช ุฐููุฉ
    </h3>
    <span>ุฑุคู ูุฏุนููุฉ ุจุงูุจูุงูุงุช ููุณุงุนุฏุชู ุนูู ุงูููู</span>

    <div class="insight" *ngFor="let insight of insights" [ngClass]="insight.type">
      <h4>{{ insight.title }}</h4>
      <p>{{ insight.description }}</p>

      <div class="confidence">
        <span>ูุณุชูู ุงูุซูุฉ : {{ insight.confidence }}%</span>
        <div class="progress">
          <div class="bar" [style.width.%]="insight.confidence"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Marketing Channels Chart -->
  <div class="chart-box">
    <h3>ุฃุฏุงุก ุงููููุงุช ุงูุชุณููููุฉ</h3>
    <p>ููุงุฑูุฉ ุจูู ูุตุงุฏุฑ ุงูุฒูุงุฑ</p>
    <div class="chart-placeholder">LINE CHART</div>
  </div>

</section>
